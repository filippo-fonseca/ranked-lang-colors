{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect } from 'react';\nimport useCurrentState from '../utils/use-current-state';\nimport { useGeistUIContext } from '../utils/use-geist-ui-context';\nimport { getId } from '../utils/collections';\nvar defaultToast = {\n  delay: 2000\n};\nvar destoryStack = [];\nvar maxDestoryTime = 0;\nvar destoryTimer;\n\nvar useToasts = function useToasts() {\n  var _useGeistUIContext = useGeistUIContext(),\n      updateToasts = _useGeistUIContext.updateToasts,\n      toastHovering = _useGeistUIContext.toastHovering,\n      toasts = _useGeistUIContext.toasts;\n\n  var _useCurrentState = useCurrentState(toastHovering),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      setHovering = _useCurrentState2[1],\n      hoveringRef = _useCurrentState2[2];\n\n  useEffect(function () {\n    return setHovering(toastHovering);\n  }, [toastHovering]);\n\n  var destoryAll = function destoryAll(delay, time) {\n    /* istanbul ignore next */\n    if (time <= maxDestoryTime) return;\n    clearTimeout(destoryTimer);\n    maxDestoryTime = time;\n    destoryTimer = window.setTimeout(function () {\n      /* istanbul ignore next */\n      updateToasts(function (currentToasts) {\n        if (destoryStack.length < currentToasts.length) {\n          return currentToasts;\n        }\n\n        destoryStack = [];\n        return [];\n      });\n      clearTimeout(destoryTimer);\n    }, delay + 350);\n  };\n\n  var setToast = function setToast(toast) {\n    var id = \"toast-\".concat(getId());\n    var delay = toast.delay || defaultToast.delay;\n\n    var cancel = function cancel(id, delay) {\n      updateToasts(function (currentToasts) {\n        return currentToasts.map(function (item) {\n          if (item.id !== id) return item;\n          return _extends({}, item, {\n            willBeDestroy: true\n          });\n        });\n      });\n      destoryStack.push(id);\n      destoryAll(delay, performance.now());\n    };\n\n    updateToasts(function (currentToasts) {\n      var newToast = _extends({}, toast, {\n        id: id,\n        delay: delay,\n        cancel: function (_cancel) {\n          function cancel() {\n            return _cancel.apply(this, arguments);\n          }\n\n          cancel.toString = function () {\n            return _cancel.toString();\n          };\n\n          return cancel;\n        }(function () {\n          return cancel(id, delay);\n        })\n      });\n\n      return [].concat(_toConsumableArray(currentToasts), [newToast]);\n    });\n\n    var hideToast = function hideToast(id, delay) {\n      var hideTimer = window.setTimeout(function () {\n        if (hoveringRef.current) {\n          hideToast(id, delay);\n          return clearTimeout(hideTimer);\n        }\n\n        cancel(id, delay);\n        clearTimeout(hideTimer);\n      }, delay);\n    };\n\n    hideToast(id, delay);\n  };\n\n  return [toasts, setToast];\n};\n\nexport default useToasts;","map":{"version":3,"sources":["/Users/filippofonseca/Developer/open-source/ranked-lang-colors/core-l/node_modules/@geist-ui/react/esm/use-toasts/use-toast.js"],"names":["_toConsumableArray","_extends","_slicedToArray","useEffect","useCurrentState","useGeistUIContext","getId","defaultToast","delay","destoryStack","maxDestoryTime","destoryTimer","useToasts","_useGeistUIContext","updateToasts","toastHovering","toasts","_useCurrentState","_useCurrentState2","setHovering","hoveringRef","destoryAll","time","clearTimeout","window","setTimeout","currentToasts","length","setToast","toast","id","concat","cancel","map","item","willBeDestroy","push","performance","now","newToast","_cancel","apply","arguments","toString","hideToast","hideTimer","current"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect } from 'react';\nimport useCurrentState from '../utils/use-current-state';\nimport { useGeistUIContext } from '../utils/use-geist-ui-context';\nimport { getId } from '../utils/collections';\nvar defaultToast = {\n  delay: 2000\n};\nvar destoryStack = [];\nvar maxDestoryTime = 0;\nvar destoryTimer;\n\nvar useToasts = function useToasts() {\n  var _useGeistUIContext = useGeistUIContext(),\n      updateToasts = _useGeistUIContext.updateToasts,\n      toastHovering = _useGeistUIContext.toastHovering,\n      toasts = _useGeistUIContext.toasts;\n\n  var _useCurrentState = useCurrentState(toastHovering),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      setHovering = _useCurrentState2[1],\n      hoveringRef = _useCurrentState2[2];\n\n  useEffect(function () {\n    return setHovering(toastHovering);\n  }, [toastHovering]);\n\n  var destoryAll = function destoryAll(delay, time) {\n    /* istanbul ignore next */\n    if (time <= maxDestoryTime) return;\n    clearTimeout(destoryTimer);\n    maxDestoryTime = time;\n    destoryTimer = window.setTimeout(function () {\n      /* istanbul ignore next */\n      updateToasts(function (currentToasts) {\n        if (destoryStack.length < currentToasts.length) {\n          return currentToasts;\n        }\n\n        destoryStack = [];\n        return [];\n      });\n      clearTimeout(destoryTimer);\n    }, delay + 350);\n  };\n\n  var setToast = function setToast(toast) {\n    var id = \"toast-\".concat(getId());\n    var delay = toast.delay || defaultToast.delay;\n\n    var cancel = function cancel(id, delay) {\n      updateToasts(function (currentToasts) {\n        return currentToasts.map(function (item) {\n          if (item.id !== id) return item;\n          return _extends({}, item, {\n            willBeDestroy: true\n          });\n        });\n      });\n      destoryStack.push(id);\n      destoryAll(delay, performance.now());\n    };\n\n    updateToasts(function (currentToasts) {\n      var newToast = _extends({}, toast, {\n        id: id,\n        delay: delay,\n        cancel: function (_cancel) {\n          function cancel() {\n            return _cancel.apply(this, arguments);\n          }\n\n          cancel.toString = function () {\n            return _cancel.toString();\n          };\n\n          return cancel;\n        }(function () {\n          return cancel(id, delay);\n        })\n      });\n\n      return [].concat(_toConsumableArray(currentToasts), [newToast]);\n    });\n\n    var hideToast = function hideToast(id, delay) {\n      var hideTimer = window.setTimeout(function () {\n        if (hoveringRef.current) {\n          hideToast(id, delay);\n          return clearTimeout(hideTimer);\n        }\n\n        cancel(id, delay);\n        clearTimeout(hideTimer);\n      }, delay);\n    };\n\n    hideToast(id, delay);\n  };\n\n  return [toasts, setToast];\n};\n\nexport default useToasts;"]},"metadata":{},"sourceType":"module"}