{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport useTheme from '../use-theme';\nimport Button from '../button';\n\nvar toastActions = function toastActions(actions, cancelHandle) {\n  var handler = function handler(event, userHandler) {\n    userHandler && userHandler(event, cancelHandle);\n  };\n\n  if (!actions || !actions.length) return null;\n  return actions.map(function (action, index) {\n    return /*#__PURE__*/React.createElement(Button, {\n      auto: true,\n      size: \"mini\",\n      type: action.passive ? 'default' : 'secondary',\n      key: \"action-\".concat(index),\n      onClick: function onClick(event) {\n        return handler(event, action.handler);\n      }\n    }, action.name);\n  });\n};\n\nvar getColors = function getColors(palette, type) {\n  var colors = {\n    \"default\": palette.background,\n    secondary: palette.secondary,\n    success: palette.success,\n    warning: palette.warning,\n    error: palette.error\n  };\n  var isDefault = !type || type === 'default';\n  if (isDefault) return {\n    bgColor: colors[\"default\"],\n    color: palette.foreground\n  };\n  /**\n   * Prevent main color change in special types.\n   * The color will only follow the theme when it is in the default type.\n   */\n\n  return {\n    bgColor: colors[type],\n    color: 'white'\n  };\n};\n\nvar ToastItem = /*#__PURE__*/React.memo(function (_ref) {\n  var index = _ref.index,\n      total = _ref.total,\n      toast = _ref.toast,\n      onHover = _ref.onHover;\n  var theme = useTheme();\n\n  var _useMemo = useMemo(function () {\n    return getColors(theme.palette, toast.type);\n  }, [theme.palette, toast.type]),\n      color = _useMemo.color,\n      bgColor = _useMemo.bgColor;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hide = _useState4[0],\n      setHide = _useState4[1];\n\n  var reverseIndex = useMemo(function () {\n    return total - (index + 1);\n  }, [total, index]);\n  var translate = useMemo(function () {\n    var calc = \"100% + -75px + -\".concat(20 * reverseIndex, \"px\");\n    if (reverseIndex >= 4) return \"translate3d(0, -75px, -\".concat(reverseIndex, \"px) scale(.7)\");\n\n    if (onHover) {\n      return \"translate3d(0, \".concat(reverseIndex * -75, \"px, -\").concat(reverseIndex, \"px) scale(\").concat(total === 1 ? 1 : 0.98205, \")\");\n    }\n\n    return \"translate3d(0, calc(\".concat(calc, \"), -\").concat(reverseIndex, \"px) scale(\").concat(1 - 0.05 * reverseIndex, \")\");\n  }, [onHover, index, total, reverseIndex]);\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      setVisible(true);\n      clearTimeout(timer);\n    }, 10);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, []);\n  useEffect(function () {\n    var unMount = false;\n    var shouldBeHide = reverseIndex > 2 || toast.willBeDestroy;\n    if (!shouldBeHide || unMount) return;\n    var timer = setTimeout(function () {\n      setHide(true);\n      clearTimeout(timer);\n    }, 150);\n    return function () {\n      unMount = true;\n      clearTimeout(timer);\n    };\n  }, [reverseIndex, toast.willBeDestroy]);\n  /* istanbul ignore next */\n\n  if (reverseIndex > 10) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"\".concat(toast.id, \"-\").concat(index),\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"toast \".concat(visible ? 'visible' : '', \" \").concat(hide ? 'hide' : '')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"message\"\n  }, toast.text), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"action\"\n  }, toastActions(toast.actions, toast.cancel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"397744814\",\n    dynamic: [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]\n  }, \".toast.__jsx-style-dynamic-selector{width:420px;max-width:90vw;max-height:75px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\".concat(theme.palette.foreground, \";background-color:\").concat(bgColor, \";color:\").concat(color, \";border:0;border-radius:\").concat(theme.layout.radius, \";padding:\").concat(theme.layout.gap, \";position:absolute;bottom:0;right:0;opacity:\").concat(reverseIndex > 4 ? 0 : 1, \";box-shadow:\").concat(reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, \";-webkit-transform:translate3d(0,100%,0px) scale(1);-ms-transform:translate3d(0,100%,0px) scale(1);transform:translate3d(0,100%,0px) scale(1);-webkit-transition:-webkit-transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;-webkit-transition:transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;transition:transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;}.toast.visible.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:\").concat(translate, \";-ms-transform:\").concat(translate, \";transform:\").concat(translate, \";}.toast.hide.__jsx-style-dynamic-selector{opacity:0;visibility:hidden;pointer-events:none;}.message.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;-webkit-transition:opacity 0.4s ease;transition:opacity 0.4s ease;font-size:0.875rem;display:-webkit-box;word-break:break-all;padding-right:\").concat(theme.layout.gapHalf, \";overflow:hidden;max-height:100%;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-height:1.1rem;}.toast.__jsx-style-dynamic-selector button + button{margin-left:\").concat(theme.layout.gapQuarter, \";}\")));\n});\nexport default ToastItem;","map":{"version":3,"sources":["/Users/filippofonseca/Developer/open-source/ranked-lang-colors/core-l/node_modules/@geist-ui/react/esm/use-toasts/toast-item.js"],"names":["_slicedToArray","_JSXStyle","React","useEffect","useMemo","useState","useTheme","Button","toastActions","actions","cancelHandle","handler","event","userHandler","length","map","action","index","createElement","auto","size","type","passive","key","concat","onClick","name","getColors","palette","colors","background","secondary","success","warning","error","isDefault","bgColor","color","foreground","ToastItem","memo","_ref","total","toast","onHover","theme","_useMemo","_useState","_useState2","visible","setVisible","_useState3","_useState4","hide","setHide","reverseIndex","translate","calc","timer","setTimeout","clearTimeout","unMount","shouldBeHide","willBeDestroy","id","className","dynamic","layout","radius","gap","expressiveness","shadowSmall","gapHalf","gapQuarter","text","cancel"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport useTheme from '../use-theme';\nimport Button from '../button';\n\nvar toastActions = function toastActions(actions, cancelHandle) {\n  var handler = function handler(event, userHandler) {\n    userHandler && userHandler(event, cancelHandle);\n  };\n\n  if (!actions || !actions.length) return null;\n  return actions.map(function (action, index) {\n    return /*#__PURE__*/React.createElement(Button, {\n      auto: true,\n      size: \"mini\",\n      type: action.passive ? 'default' : 'secondary',\n      key: \"action-\".concat(index),\n      onClick: function onClick(event) {\n        return handler(event, action.handler);\n      }\n    }, action.name);\n  });\n};\n\nvar getColors = function getColors(palette, type) {\n  var colors = {\n    \"default\": palette.background,\n    secondary: palette.secondary,\n    success: palette.success,\n    warning: palette.warning,\n    error: palette.error\n  };\n  var isDefault = !type || type === 'default';\n  if (isDefault) return {\n    bgColor: colors[\"default\"],\n    color: palette.foreground\n  };\n  /**\n   * Prevent main color change in special types.\n   * The color will only follow the theme when it is in the default type.\n   */\n\n  return {\n    bgColor: colors[type],\n    color: 'white'\n  };\n};\n\nvar ToastItem = /*#__PURE__*/React.memo(function (_ref) {\n  var index = _ref.index,\n      total = _ref.total,\n      toast = _ref.toast,\n      onHover = _ref.onHover;\n  var theme = useTheme();\n\n  var _useMemo = useMemo(function () {\n    return getColors(theme.palette, toast.type);\n  }, [theme.palette, toast.type]),\n      color = _useMemo.color,\n      bgColor = _useMemo.bgColor;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hide = _useState4[0],\n      setHide = _useState4[1];\n\n  var reverseIndex = useMemo(function () {\n    return total - (index + 1);\n  }, [total, index]);\n  var translate = useMemo(function () {\n    var calc = \"100% + -75px + -\".concat(20 * reverseIndex, \"px\");\n    if (reverseIndex >= 4) return \"translate3d(0, -75px, -\".concat(reverseIndex, \"px) scale(.7)\");\n\n    if (onHover) {\n      return \"translate3d(0, \".concat(reverseIndex * -75, \"px, -\").concat(reverseIndex, \"px) scale(\").concat(total === 1 ? 1 : 0.98205, \")\");\n    }\n\n    return \"translate3d(0, calc(\".concat(calc, \"), -\").concat(reverseIndex, \"px) scale(\").concat(1 - 0.05 * reverseIndex, \")\");\n  }, [onHover, index, total, reverseIndex]);\n  useEffect(function () {\n    var timer = setTimeout(function () {\n      setVisible(true);\n      clearTimeout(timer);\n    }, 10);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, []);\n  useEffect(function () {\n    var unMount = false;\n    var shouldBeHide = reverseIndex > 2 || toast.willBeDestroy;\n    if (!shouldBeHide || unMount) return;\n    var timer = setTimeout(function () {\n      setHide(true);\n      clearTimeout(timer);\n    }, 150);\n    return function () {\n      unMount = true;\n      clearTimeout(timer);\n    };\n  }, [reverseIndex, toast.willBeDestroy]);\n  /* istanbul ignore next */\n\n  if (reverseIndex > 10) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"\".concat(toast.id, \"-\").concat(index),\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"toast \".concat(visible ? 'visible' : '', \" \").concat(hide ? 'hide' : '')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"message\"\n  }, toast.text), /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"397744814\", [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]]]) + \" \" + \"action\"\n  }, toastActions(toast.actions, toast.cancel)), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"397744814\",\n    dynamic: [theme.palette.foreground, bgColor, color, theme.layout.radius, theme.layout.gap, reverseIndex > 4 ? 0 : 1, reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, translate, theme.layout.gapHalf, theme.layout.gapQuarter]\n  }, \".toast.__jsx-style-dynamic-selector{width:420px;max-width:90vw;max-height:75px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\".concat(theme.palette.foreground, \";background-color:\").concat(bgColor, \";color:\").concat(color, \";border:0;border-radius:\").concat(theme.layout.radius, \";padding:\").concat(theme.layout.gap, \";position:absolute;bottom:0;right:0;opacity:\").concat(reverseIndex > 4 ? 0 : 1, \";box-shadow:\").concat(reverseIndex > 4 ? 'none' : theme.expressiveness.shadowSmall, \";-webkit-transform:translate3d(0,100%,0px) scale(1);-ms-transform:translate3d(0,100%,0px) scale(1);transform:translate3d(0,100%,0px) scale(1);-webkit-transition:-webkit-transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;-webkit-transition:transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;transition:transform 400ms ease 0ms,visibility 200ms ease 0ms,opacity 200ms ease 0ms;}.toast.visible.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:\").concat(translate, \";-ms-transform:\").concat(translate, \";transform:\").concat(translate, \";}.toast.hide.__jsx-style-dynamic-selector{opacity:0;visibility:hidden;pointer-events:none;}.message.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;-webkit-transition:opacity 0.4s ease;transition:opacity 0.4s ease;font-size:0.875rem;display:-webkit-box;word-break:break-all;padding-right:\").concat(theme.layout.gapHalf, \";overflow:hidden;max-height:100%;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-height:1.1rem;}.toast.__jsx-style-dynamic-selector button + button{margin-left:\").concat(theme.layout.gapQuarter, \";}\")));\n});\nexport default ToastItem;"]},"metadata":{},"sourceType":"module"}