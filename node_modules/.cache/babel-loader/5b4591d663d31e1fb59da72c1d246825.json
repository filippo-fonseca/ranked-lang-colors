{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport usePortal from '../utils/use-portal';\nimport useResize from '../utils/use-resize';\nimport CSSTransition from './css-transition';\nimport useClickAnyWhere from '../utils/use-click-anywhere';\nimport useDOMObserver from '../utils/use-dom-observer';\nvar defaultRect = {\n  top: -1000,\n  left: -1000,\n  right: -1000,\n  width: 0\n};\n\nvar getOffset = function getOffset(el) {\n  if (!el) return {\n    top: 0,\n    left: 0\n  };\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    top: top,\n    left: left\n  };\n};\n\nvar getRect = function getRect(ref, getContainer) {\n  if (!ref || !ref.current) return defaultRect;\n  var rect = ref.current.getBoundingClientRect();\n  var container = getContainer ? getContainer() : null;\n  var scrollElement = container || document.documentElement;\n\n  var _getOffset = getOffset(container),\n      offsetTop = _getOffset.top,\n      offsetLeft = _getOffset.left;\n\n  return _extends({}, rect, {\n    width: rect.width || rect.right - rect.left,\n    top: rect.bottom + scrollElement.scrollTop - offsetTop,\n    left: rect.left + scrollElement.scrollLeft - offsetLeft\n  });\n};\n\nvar Dropdown = /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children,\n      parent = _ref.parent,\n      visible = _ref.visible,\n      disableMatchWidth = _ref.disableMatchWidth,\n      getPopupContainer = _ref.getPopupContainer;\n  var el = usePortal('dropdown', getPopupContainer);\n\n  var _useState = useState(defaultRect),\n      _useState2 = _slicedToArray(_useState, 2),\n      rect = _useState2[0],\n      setRect = _useState2[1];\n\n  if (!parent) return null;\n\n  var updateRect = function updateRect() {\n    var _getRect = getRect(parent, getPopupContainer),\n        top = _getRect.top,\n        left = _getRect.left,\n        right = _getRect.right,\n        nativeWidth = _getRect.width;\n\n    setRect({\n      top: top,\n      left: left,\n      right: right,\n      width: nativeWidth\n    });\n  };\n\n  useResize(updateRect);\n  useClickAnyWhere(function () {\n    var _getRect2 = getRect(parent, getPopupContainer),\n        top = _getRect2.top,\n        left = _getRect2.left;\n\n    var shouldUpdatePosition = top !== rect.top || left !== rect.left;\n    if (!shouldUpdatePosition) return;\n    updateRect();\n  });\n  useDOMObserver(parent, function () {\n    updateRect();\n  });\n  useEffect(function () {\n    if (!parent || !parent.current) return;\n    parent.current.addEventListener('mouseenter', updateRect);\n    /* istanbul ignore next */\n\n    return function () {\n      if (!parent || !parent.current) return;\n      parent.current.removeEventListener('mouseenter', updateRect);\n    };\n  }, [parent]);\n\n  var clickHandler = function clickHandler(event) {\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  if (!el) return null;\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(CSSTransition, {\n    visible: visible\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: clickHandler,\n    className: _JSXStyle.dynamic([[\"2976859150\", [rect.top + 2, rect.left, rect.width, rect.width]]]) + \" \" + \"dropdown \".concat(disableMatchWidth ? 'disable-match' : 'width-match')\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2976859150\",\n    dynamic: [rect.top + 2, rect.left, rect.width, rect.width]\n  }, \".dropdown.__jsx-style-dynamic-selector{position:absolute;top:\".concat(rect.top + 2, \"px;left:\").concat(rect.left, \"px;z-index:1100;}.width-match.__jsx-style-dynamic-selector{width:\").concat(rect.width, \"px;}.disable-match.__jsx-style-dynamic-selector{min-width:\").concat(rect.width, \"px;}\")))), el);\n});\nexport default Dropdown;","map":{"version":3,"sources":["/Users/filippofonseca/Developer/open-source/ranked-lang-colors/core-l/node_modules/@geist-ui/react/esm/shared/dropdown.js"],"names":["_slicedToArray","_extends","_JSXStyle","React","useEffect","useState","createPortal","usePortal","useResize","CSSTransition","useClickAnyWhere","useDOMObserver","defaultRect","top","left","right","width","getOffset","el","_el$getBoundingClient","getBoundingClientRect","getRect","ref","getContainer","current","rect","container","scrollElement","document","documentElement","_getOffset","offsetTop","offsetLeft","bottom","scrollTop","scrollLeft","Dropdown","memo","_ref","children","parent","visible","disableMatchWidth","getPopupContainer","_useState","_useState2","setRect","updateRect","_getRect","nativeWidth","_getRect2","shouldUpdatePosition","addEventListener","removeEventListener","clickHandler","event","stopPropagation","preventDefault","createElement","onClick","className","dynamic","concat","id"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport usePortal from '../utils/use-portal';\nimport useResize from '../utils/use-resize';\nimport CSSTransition from './css-transition';\nimport useClickAnyWhere from '../utils/use-click-anywhere';\nimport useDOMObserver from '../utils/use-dom-observer';\nvar defaultRect = {\n  top: -1000,\n  left: -1000,\n  right: -1000,\n  width: 0\n};\n\nvar getOffset = function getOffset(el) {\n  if (!el) return {\n    top: 0,\n    left: 0\n  };\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    top: top,\n    left: left\n  };\n};\n\nvar getRect = function getRect(ref, getContainer) {\n  if (!ref || !ref.current) return defaultRect;\n  var rect = ref.current.getBoundingClientRect();\n  var container = getContainer ? getContainer() : null;\n  var scrollElement = container || document.documentElement;\n\n  var _getOffset = getOffset(container),\n      offsetTop = _getOffset.top,\n      offsetLeft = _getOffset.left;\n\n  return _extends({}, rect, {\n    width: rect.width || rect.right - rect.left,\n    top: rect.bottom + scrollElement.scrollTop - offsetTop,\n    left: rect.left + scrollElement.scrollLeft - offsetLeft\n  });\n};\n\nvar Dropdown = /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children,\n      parent = _ref.parent,\n      visible = _ref.visible,\n      disableMatchWidth = _ref.disableMatchWidth,\n      getPopupContainer = _ref.getPopupContainer;\n  var el = usePortal('dropdown', getPopupContainer);\n\n  var _useState = useState(defaultRect),\n      _useState2 = _slicedToArray(_useState, 2),\n      rect = _useState2[0],\n      setRect = _useState2[1];\n\n  if (!parent) return null;\n\n  var updateRect = function updateRect() {\n    var _getRect = getRect(parent, getPopupContainer),\n        top = _getRect.top,\n        left = _getRect.left,\n        right = _getRect.right,\n        nativeWidth = _getRect.width;\n\n    setRect({\n      top: top,\n      left: left,\n      right: right,\n      width: nativeWidth\n    });\n  };\n\n  useResize(updateRect);\n  useClickAnyWhere(function () {\n    var _getRect2 = getRect(parent, getPopupContainer),\n        top = _getRect2.top,\n        left = _getRect2.left;\n\n    var shouldUpdatePosition = top !== rect.top || left !== rect.left;\n    if (!shouldUpdatePosition) return;\n    updateRect();\n  });\n  useDOMObserver(parent, function () {\n    updateRect();\n  });\n  useEffect(function () {\n    if (!parent || !parent.current) return;\n    parent.current.addEventListener('mouseenter', updateRect);\n    /* istanbul ignore next */\n\n    return function () {\n      if (!parent || !parent.current) return;\n      parent.current.removeEventListener('mouseenter', updateRect);\n    };\n  }, [parent]);\n\n  var clickHandler = function clickHandler(event) {\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  if (!el) return null;\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(CSSTransition, {\n    visible: visible\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: clickHandler,\n    className: _JSXStyle.dynamic([[\"2976859150\", [rect.top + 2, rect.left, rect.width, rect.width]]]) + \" \" + \"dropdown \".concat(disableMatchWidth ? 'disable-match' : 'width-match')\n  }, children, /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2976859150\",\n    dynamic: [rect.top + 2, rect.left, rect.width, rect.width]\n  }, \".dropdown.__jsx-style-dynamic-selector{position:absolute;top:\".concat(rect.top + 2, \"px;left:\").concat(rect.left, \"px;z-index:1100;}.width-match.__jsx-style-dynamic-selector{width:\").concat(rect.width, \"px;}.disable-match.__jsx-style-dynamic-selector{min-width:\").concat(rect.width, \"px;}\")))), el);\n});\nexport default Dropdown;"]},"metadata":{},"sourceType":"module"}