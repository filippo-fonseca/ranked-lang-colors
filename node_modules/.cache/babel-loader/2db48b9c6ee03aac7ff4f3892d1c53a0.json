{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport useTheme from '../use-theme';\nimport useClickAway from '../utils/use-click-away';\nimport useCurrentState from '../utils/use-current-state';\nimport { pickChildByProps } from '../utils/collections';\nimport SelectIcon from './select-icon';\nimport SelectDropdown from './select-dropdown';\nimport SelectMultipleValue from './select-multiple-value';\nimport Grid from '../grid';\nimport { SelectContext } from './select-context';\nimport { getSizes } from './styles';\nimport Ellipsis from '../shared/ellipsis';\nvar defaultProps = {\n  disabled: false,\n  size: 'medium',\n  icon: SelectIcon,\n  pure: false,\n  multiple: false,\n  clearable: true,\n  width: 'initial',\n  className: '',\n  disableMatchWidth: false\n};\n\nvar Select = function Select(_ref) {\n  var children = _ref.children,\n      size = _ref.size,\n      disabled = _ref.disabled,\n      init = _ref.initialValue,\n      customValue = _ref.value,\n      Icon = _ref.icon,\n      onChange = _ref.onChange,\n      pure = _ref.pure,\n      multiple = _ref.multiple,\n      clearable = _ref.clearable,\n      placeholder = _ref.placeholder,\n      width = _ref.width,\n      className = _ref.className,\n      dropdownClassName = _ref.dropdownClassName,\n      dropdownStyle = _ref.dropdownStyle,\n      disableMatchWidth = _ref.disableMatchWidth,\n      getPopupContainer = _ref.getPopupContainer,\n      props = _objectWithoutProperties(_ref, [\"children\", \"size\", \"disabled\", \"initialValue\", \"value\", \"icon\", \"onChange\", \"pure\", \"multiple\", \"clearable\", \"placeholder\", \"width\", \"className\", \"dropdownClassName\", \"dropdownStyle\", \"disableMatchWidth\", \"getPopupContainer\"]);\n\n  var theme = useTheme();\n  var ref = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useCurrentState = useCurrentState(function () {\n    if (!multiple) return init;\n    if (Array.isArray(init)) return init;\n    return typeof init === 'undefined' ? [] : [init];\n  }),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      value = _useCurrentState2[0],\n      setValue = _useCurrentState2[1],\n      valueRef = _useCurrentState2[2];\n\n  var isEmpty = useMemo(function () {\n    if (!Array.isArray(value)) return !value;\n    return value.length === 0;\n  }, [value]);\n  var sizes = useMemo(function () {\n    return getSizes(theme, size);\n  }, [theme, size]);\n\n  var updateVisible = function updateVisible(next) {\n    return setVisible(next);\n  };\n\n  var updateValue = function updateValue(next) {\n    setValue(function (last) {\n      if (!Array.isArray(last)) return next;\n      if (!last.includes(next)) return [].concat(_toConsumableArray(last), [next]);\n      return last.filter(function (item) {\n        return item !== next;\n      });\n    });\n    onChange && onChange(valueRef.current);\n\n    if (!multiple) {\n      setVisible(false);\n    }\n  };\n\n  var initialValue = useMemo(function () {\n    return {\n      value: value,\n      visible: visible,\n      updateValue: updateValue,\n      updateVisible: updateVisible,\n      size: size,\n      ref: ref,\n      disableAll: disabled\n    };\n  }, [visible, size, disabled, ref, value, multiple]);\n\n  var clickHandler = function clickHandler(event) {\n    event.stopPropagation();\n    event.nativeEvent.stopImmediatePropagation();\n    event.preventDefault();\n    if (disabled) return;\n    setVisible(!visible);\n  };\n\n  useClickAway(ref, function () {\n    return setVisible(false);\n  });\n  useEffect(function () {\n    if (customValue === undefined) return;\n    setValue(customValue);\n  }, [customValue]);\n  var selectedChild = useMemo(function () {\n    var _pickChildByProps = pickChildByProps(children, 'value', value),\n        _pickChildByProps2 = _slicedToArray(_pickChildByProps, 2),\n        optionChildren = _pickChildByProps2[1];\n\n    return React.Children.map(optionChildren, function (child) {\n      if (! /*#__PURE__*/React.isValidElement(child)) return null;\n      var el = /*#__PURE__*/React.cloneElement(child, {\n        preventAllEvents: true\n      });\n      if (!multiple) return el;\n      return /*#__PURE__*/React.createElement(SelectMultipleValue, {\n        size: sizes.fontSize,\n        disabled: disabled,\n        onClear: clearable ? function () {\n          return updateValue(child.props.value);\n        } : null\n      }, el);\n    });\n  }, [value, children, multiple]);\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: initialValue\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    onClick: clickHandler\n  }, props, {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + (props && props.className != null && props.className || \"select \".concat(multiple ? 'multiple' : '', \" \").concat(className))\n  }), isEmpty && /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"value placeholder\"\n  }, /*#__PURE__*/React.createElement(Ellipsis, {\n    height: sizes.height\n  }, placeholder)), value && !multiple && /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"value\"\n  }, selectedChild), value && multiple && /*#__PURE__*/React.createElement(Grid.Container, {\n    gap: 0.5\n  }, selectedChild), /*#__PURE__*/React.createElement(SelectDropdown, {\n    visible: visible,\n    className: dropdownClassName,\n    dropdownStyle: dropdownStyle,\n    disableMatchWidth: disableMatchWidth,\n    getPopupContainer: getPopupContainer\n  }, children), !pure && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"icon\"\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]])\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1690222691\",\n    dynamic: [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]\n  }, \".select.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;position:relative;cursor:\".concat(disabled ? 'not-allowed' : 'pointer', \";max-width:80vw;width:\").concat(width, \";overflow:hidden;-webkit-transition:border 0.2s ease 0s,color 0.2s ease-out 0s,box-shadow 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease-out 0s,box-shadow 0.2s ease 0s;border:1px solid \").concat(theme.palette.border, \";border-radius:\").concat(theme.layout.radius, \";padding:0 \").concat(theme.layout.gapQuarter, \" 0 \").concat(theme.layout.gapHalf, \";height:\").concat(sizes.height, \";min-width:\").concat(sizes.minWidth, \";background-color:\").concat(disabled ? theme.palette.accents_1 : theme.palette.background, \";}.multiple.__jsx-style-dynamic-selector{height:auto;min-height:\").concat(sizes.height, \";padding:\").concat(theme.layout.gapQuarter, \" calc(\").concat(sizes.fontSize, \" * 2) \").concat(theme.layout.gapQuarter, \" \").concat(theme.layout.gapHalf, \";}.select.__jsx-style-dynamic-selector:hover{border-color:\").concat(disabled ? theme.palette.border : theme.palette.foreground, \";}.select.__jsx-style-dynamic-selector:hover .icon.__jsx-style-dynamic-selector{color:\").concat(disabled ? theme.palette.accents_5 : theme.palette.foreground, \";}.value.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0;margin-right:1.25rem;font-size:\").concat(sizes.fontSize, \";color:\").concat(disabled ? theme.palette.accents_4 : theme.palette.foreground, \";width:calc(100% - 1.25rem);}.value.__jsx-style-dynamic-selector>div,.value.__jsx-style-dynamic-selector>div:hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}.placeholder.__jsx-style-dynamic-selector{color:\").concat(theme.palette.accents_3, \";}.icon.__jsx-style-dynamic-selector{position:absolute;right:\").concat(theme.layout.gapQuarter, \";font-size:\").concat(sizes.fontSize, \";top:50%;bottom:0;-webkit-transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);-ms-transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);pointer-events:none;-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\").concat(theme.palette.accents_5, \";}\"))));\n};\n\nSelect.defaultProps = defaultProps;\nexport default Select;","map":{"version":3,"sources":["/Users/filippofonseca/Developer/open-source/ranked-lang-colors/node_modules/@geist-ui/react/esm/select/select.js"],"names":["_extends","_toConsumableArray","_slicedToArray","_objectWithoutProperties","_JSXStyle","React","useEffect","useMemo","useRef","useState","useTheme","useClickAway","useCurrentState","pickChildByProps","SelectIcon","SelectDropdown","SelectMultipleValue","Grid","SelectContext","getSizes","Ellipsis","defaultProps","disabled","size","icon","pure","multiple","clearable","width","className","disableMatchWidth","Select","_ref","children","init","initialValue","customValue","value","Icon","onChange","placeholder","dropdownClassName","dropdownStyle","getPopupContainer","props","theme","ref","_useState","_useState2","visible","setVisible","_useCurrentState","Array","isArray","_useCurrentState2","setValue","valueRef","isEmpty","length","sizes","updateVisible","next","updateValue","last","includes","concat","filter","item","current","disableAll","clickHandler","event","stopPropagation","nativeEvent","stopImmediatePropagation","preventDefault","undefined","selectedChild","_pickChildByProps","_pickChildByProps2","optionChildren","Children","map","child","isValidElement","el","cloneElement","preventAllEvents","createElement","fontSize","onClear","Provider","onClick","dynamic","palette","border","layout","radius","gapQuarter","gapHalf","height","minWidth","accents_1","background","foreground","accents_5","accents_4","accents_3","Container","gap","id"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport useTheme from '../use-theme';\nimport useClickAway from '../utils/use-click-away';\nimport useCurrentState from '../utils/use-current-state';\nimport { pickChildByProps } from '../utils/collections';\nimport SelectIcon from './select-icon';\nimport SelectDropdown from './select-dropdown';\nimport SelectMultipleValue from './select-multiple-value';\nimport Grid from '../grid';\nimport { SelectContext } from './select-context';\nimport { getSizes } from './styles';\nimport Ellipsis from '../shared/ellipsis';\nvar defaultProps = {\n  disabled: false,\n  size: 'medium',\n  icon: SelectIcon,\n  pure: false,\n  multiple: false,\n  clearable: true,\n  width: 'initial',\n  className: '',\n  disableMatchWidth: false\n};\n\nvar Select = function Select(_ref) {\n  var children = _ref.children,\n      size = _ref.size,\n      disabled = _ref.disabled,\n      init = _ref.initialValue,\n      customValue = _ref.value,\n      Icon = _ref.icon,\n      onChange = _ref.onChange,\n      pure = _ref.pure,\n      multiple = _ref.multiple,\n      clearable = _ref.clearable,\n      placeholder = _ref.placeholder,\n      width = _ref.width,\n      className = _ref.className,\n      dropdownClassName = _ref.dropdownClassName,\n      dropdownStyle = _ref.dropdownStyle,\n      disableMatchWidth = _ref.disableMatchWidth,\n      getPopupContainer = _ref.getPopupContainer,\n      props = _objectWithoutProperties(_ref, [\"children\", \"size\", \"disabled\", \"initialValue\", \"value\", \"icon\", \"onChange\", \"pure\", \"multiple\", \"clearable\", \"placeholder\", \"width\", \"className\", \"dropdownClassName\", \"dropdownStyle\", \"disableMatchWidth\", \"getPopupContainer\"]);\n\n  var theme = useTheme();\n  var ref = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useCurrentState = useCurrentState(function () {\n    if (!multiple) return init;\n    if (Array.isArray(init)) return init;\n    return typeof init === 'undefined' ? [] : [init];\n  }),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      value = _useCurrentState2[0],\n      setValue = _useCurrentState2[1],\n      valueRef = _useCurrentState2[2];\n\n  var isEmpty = useMemo(function () {\n    if (!Array.isArray(value)) return !value;\n    return value.length === 0;\n  }, [value]);\n  var sizes = useMemo(function () {\n    return getSizes(theme, size);\n  }, [theme, size]);\n\n  var updateVisible = function updateVisible(next) {\n    return setVisible(next);\n  };\n\n  var updateValue = function updateValue(next) {\n    setValue(function (last) {\n      if (!Array.isArray(last)) return next;\n      if (!last.includes(next)) return [].concat(_toConsumableArray(last), [next]);\n      return last.filter(function (item) {\n        return item !== next;\n      });\n    });\n    onChange && onChange(valueRef.current);\n\n    if (!multiple) {\n      setVisible(false);\n    }\n  };\n\n  var initialValue = useMemo(function () {\n    return {\n      value: value,\n      visible: visible,\n      updateValue: updateValue,\n      updateVisible: updateVisible,\n      size: size,\n      ref: ref,\n      disableAll: disabled\n    };\n  }, [visible, size, disabled, ref, value, multiple]);\n\n  var clickHandler = function clickHandler(event) {\n    event.stopPropagation();\n    event.nativeEvent.stopImmediatePropagation();\n    event.preventDefault();\n    if (disabled) return;\n    setVisible(!visible);\n  };\n\n  useClickAway(ref, function () {\n    return setVisible(false);\n  });\n  useEffect(function () {\n    if (customValue === undefined) return;\n    setValue(customValue);\n  }, [customValue]);\n  var selectedChild = useMemo(function () {\n    var _pickChildByProps = pickChildByProps(children, 'value', value),\n        _pickChildByProps2 = _slicedToArray(_pickChildByProps, 2),\n        optionChildren = _pickChildByProps2[1];\n\n    return React.Children.map(optionChildren, function (child) {\n      if (! /*#__PURE__*/React.isValidElement(child)) return null;\n      var el = /*#__PURE__*/React.cloneElement(child, {\n        preventAllEvents: true\n      });\n      if (!multiple) return el;\n      return /*#__PURE__*/React.createElement(SelectMultipleValue, {\n        size: sizes.fontSize,\n        disabled: disabled,\n        onClear: clearable ? function () {\n          return updateValue(child.props.value);\n        } : null\n      }, el);\n    });\n  }, [value, children, multiple]);\n  return /*#__PURE__*/React.createElement(SelectContext.Provider, {\n    value: initialValue\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    onClick: clickHandler\n  }, props, {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + (props && props.className != null && props.className || \"select \".concat(multiple ? 'multiple' : '', \" \").concat(className))\n  }), isEmpty && /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"value placeholder\"\n  }, /*#__PURE__*/React.createElement(Ellipsis, {\n    height: sizes.height\n  }, placeholder)), value && !multiple && /*#__PURE__*/React.createElement(\"span\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"value\"\n  }, selectedChild), value && multiple && /*#__PURE__*/React.createElement(Grid.Container, {\n    gap: 0.5\n  }, selectedChild), /*#__PURE__*/React.createElement(SelectDropdown, {\n    visible: visible,\n    className: dropdownClassName,\n    dropdownStyle: dropdownStyle,\n    disableMatchWidth: disableMatchWidth,\n    getPopupContainer: getPopupContainer\n  }, children), !pure && /*#__PURE__*/React.createElement(\"div\", {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]]) + \" \" + \"icon\"\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: _JSXStyle.dynamic([[\"1690222691\", [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]]])\n  })), /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1690222691\",\n    dynamic: [disabled ? 'not-allowed' : 'pointer', width, theme.palette.border, theme.layout.radius, theme.layout.gapQuarter, theme.layout.gapHalf, sizes.height, sizes.minWidth, disabled ? theme.palette.accents_1 : theme.palette.background, sizes.height, theme.layout.gapQuarter, sizes.fontSize, theme.layout.gapQuarter, theme.layout.gapHalf, disabled ? theme.palette.border : theme.palette.foreground, disabled ? theme.palette.accents_5 : theme.palette.foreground, sizes.fontSize, disabled ? theme.palette.accents_4 : theme.palette.foreground, theme.palette.accents_3, theme.layout.gapQuarter, sizes.fontSize, visible ? '180' : '0', theme.palette.accents_5]\n  }, \".select.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;position:relative;cursor:\".concat(disabled ? 'not-allowed' : 'pointer', \";max-width:80vw;width:\").concat(width, \";overflow:hidden;-webkit-transition:border 0.2s ease 0s,color 0.2s ease-out 0s,box-shadow 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease-out 0s,box-shadow 0.2s ease 0s;border:1px solid \").concat(theme.palette.border, \";border-radius:\").concat(theme.layout.radius, \";padding:0 \").concat(theme.layout.gapQuarter, \" 0 \").concat(theme.layout.gapHalf, \";height:\").concat(sizes.height, \";min-width:\").concat(sizes.minWidth, \";background-color:\").concat(disabled ? theme.palette.accents_1 : theme.palette.background, \";}.multiple.__jsx-style-dynamic-selector{height:auto;min-height:\").concat(sizes.height, \";padding:\").concat(theme.layout.gapQuarter, \" calc(\").concat(sizes.fontSize, \" * 2) \").concat(theme.layout.gapQuarter, \" \").concat(theme.layout.gapHalf, \";}.select.__jsx-style-dynamic-selector:hover{border-color:\").concat(disabled ? theme.palette.border : theme.palette.foreground, \";}.select.__jsx-style-dynamic-selector:hover .icon.__jsx-style-dynamic-selector{color:\").concat(disabled ? theme.palette.accents_5 : theme.palette.foreground, \";}.value.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0;margin-right:1.25rem;font-size:\").concat(sizes.fontSize, \";color:\").concat(disabled ? theme.palette.accents_4 : theme.palette.foreground, \";width:calc(100% - 1.25rem);}.value.__jsx-style-dynamic-selector>div,.value.__jsx-style-dynamic-selector>div:hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}.placeholder.__jsx-style-dynamic-selector{color:\").concat(theme.palette.accents_3, \";}.icon.__jsx-style-dynamic-selector{position:absolute;right:\").concat(theme.layout.gapQuarter, \";font-size:\").concat(sizes.fontSize, \";top:50%;bottom:0;-webkit-transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);-ms-transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);transform:translateY(-50%) rotate(\").concat(visible ? '180' : '0', \"deg);pointer-events:none;-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:\").concat(theme.palette.accents_5, \";}\"))));\n};\n\nSelect.defaultProps = defaultProps;\nexport default Select;"]},"metadata":{},"sourceType":"module"}