{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport usePortal from '../utils/use-portal';\nimport ModalWrapper from './modal-wrapper';\nimport ModalAction from './modal-action';\nimport ModalActions from './modal-actions';\nimport Backdrop from '../shared/backdrop';\nimport { ModalContext } from './modal-context';\nimport { pickChild } from '../utils/collections';\nimport useBodyScroll from '../utils/use-body-scroll';\nimport useCurrentState from '../utils/use-current-state';\nvar defaultProps = {\n  width: '26rem',\n  wrapClassName: '',\n  disableBackdropClick: false\n};\n\nvar Modal = function Modal(_ref) {\n  var children = _ref.children,\n      disableBackdropClick = _ref.disableBackdropClick,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      open = _ref.open,\n      wrapperWidth = _ref.width,\n      wrapClassName = _ref.wrapClassName;\n  var portal = usePortal('modal');\n\n  var _useBodyScroll = useBodyScroll(null, {\n    scrollLayer: true\n  }),\n      _useBodyScroll2 = _slicedToArray(_useBodyScroll, 2),\n      setBodyHidden = _useBodyScroll2[1];\n\n  var _useCurrentState = useCurrentState(false),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      visible = _useCurrentState2[0],\n      setVisible = _useCurrentState2[1],\n      visibleRef = _useCurrentState2[2];\n\n  var _pickChild = pickChild(children, ModalAction),\n      _pickChild2 = _slicedToArray(_pickChild, 2),\n      withoutActionsChildren = _pickChild2[0],\n      ActionsChildren = _pickChild2[1];\n\n  var hasActions = ActionsChildren && React.Children.count(ActionsChildren) > 0;\n\n  var closeModal = function closeModal() {\n    onClose && onClose();\n    setVisible(false);\n    setBodyHidden(false);\n  };\n\n  useEffect(function () {\n    if (open === undefined) return;\n\n    if (open) {\n      onOpen && onOpen();\n    }\n\n    if (!open && visibleRef.current) {\n      onClose && onClose();\n    }\n\n    setVisible(open);\n    setBodyHidden(open);\n  }, [open]);\n\n  var closeFromBackdrop = function closeFromBackdrop() {\n    if (disableBackdropClick && hasActions) return;\n    closeModal();\n  };\n\n  var modalConfig = useMemo(function () {\n    return {\n      close: closeModal\n    };\n  }, []);\n  if (!portal) return null;\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(ModalContext.Provider, {\n    value: modalConfig\n  }, /*#__PURE__*/React.createElement(Backdrop, {\n    onClick: closeFromBackdrop,\n    visible: visible,\n    width: wrapperWidth\n  }, /*#__PURE__*/React.createElement(ModalWrapper, {\n    visible: visible,\n    className: wrapClassName\n  }, withoutActionsChildren, hasActions && /*#__PURE__*/React.createElement(ModalActions, null, ActionsChildren)))), portal);\n};\n\nModal.defaultProps = defaultProps;\nexport default Modal;","map":{"version":3,"sources":["/Users/filippofonseca/Developer/open-source/ranked-lang-colors/node_modules/@geist-ui/react/esm/modal/modal.js"],"names":["_slicedToArray","React","useEffect","useMemo","createPortal","usePortal","ModalWrapper","ModalAction","ModalActions","Backdrop","ModalContext","pickChild","useBodyScroll","useCurrentState","defaultProps","width","wrapClassName","disableBackdropClick","Modal","_ref","children","onClose","onOpen","open","wrapperWidth","portal","_useBodyScroll","scrollLayer","_useBodyScroll2","setBodyHidden","_useCurrentState","_useCurrentState2","visible","setVisible","visibleRef","_pickChild","_pickChild2","withoutActionsChildren","ActionsChildren","hasActions","Children","count","closeModal","undefined","current","closeFromBackdrop","modalConfig","close","createElement","Provider","value","onClick","className"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nimport usePortal from '../utils/use-portal';\nimport ModalWrapper from './modal-wrapper';\nimport ModalAction from './modal-action';\nimport ModalActions from './modal-actions';\nimport Backdrop from '../shared/backdrop';\nimport { ModalContext } from './modal-context';\nimport { pickChild } from '../utils/collections';\nimport useBodyScroll from '../utils/use-body-scroll';\nimport useCurrentState from '../utils/use-current-state';\nvar defaultProps = {\n  width: '26rem',\n  wrapClassName: '',\n  disableBackdropClick: false\n};\n\nvar Modal = function Modal(_ref) {\n  var children = _ref.children,\n      disableBackdropClick = _ref.disableBackdropClick,\n      onClose = _ref.onClose,\n      onOpen = _ref.onOpen,\n      open = _ref.open,\n      wrapperWidth = _ref.width,\n      wrapClassName = _ref.wrapClassName;\n  var portal = usePortal('modal');\n\n  var _useBodyScroll = useBodyScroll(null, {\n    scrollLayer: true\n  }),\n      _useBodyScroll2 = _slicedToArray(_useBodyScroll, 2),\n      setBodyHidden = _useBodyScroll2[1];\n\n  var _useCurrentState = useCurrentState(false),\n      _useCurrentState2 = _slicedToArray(_useCurrentState, 3),\n      visible = _useCurrentState2[0],\n      setVisible = _useCurrentState2[1],\n      visibleRef = _useCurrentState2[2];\n\n  var _pickChild = pickChild(children, ModalAction),\n      _pickChild2 = _slicedToArray(_pickChild, 2),\n      withoutActionsChildren = _pickChild2[0],\n      ActionsChildren = _pickChild2[1];\n\n  var hasActions = ActionsChildren && React.Children.count(ActionsChildren) > 0;\n\n  var closeModal = function closeModal() {\n    onClose && onClose();\n    setVisible(false);\n    setBodyHidden(false);\n  };\n\n  useEffect(function () {\n    if (open === undefined) return;\n\n    if (open) {\n      onOpen && onOpen();\n    }\n\n    if (!open && visibleRef.current) {\n      onClose && onClose();\n    }\n\n    setVisible(open);\n    setBodyHidden(open);\n  }, [open]);\n\n  var closeFromBackdrop = function closeFromBackdrop() {\n    if (disableBackdropClick && hasActions) return;\n    closeModal();\n  };\n\n  var modalConfig = useMemo(function () {\n    return {\n      close: closeModal\n    };\n  }, []);\n  if (!portal) return null;\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(ModalContext.Provider, {\n    value: modalConfig\n  }, /*#__PURE__*/React.createElement(Backdrop, {\n    onClick: closeFromBackdrop,\n    visible: visible,\n    width: wrapperWidth\n  }, /*#__PURE__*/React.createElement(ModalWrapper, {\n    visible: visible,\n    className: wrapClassName\n  }, withoutActionsChildren, hasActions && /*#__PURE__*/React.createElement(ModalActions, null, ActionsChildren)))), portal);\n};\n\nModal.defaultProps = defaultProps;\nexport default Modal;"]},"metadata":{},"sourceType":"module"}